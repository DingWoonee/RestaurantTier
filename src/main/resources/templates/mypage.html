<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>건메추-마이페이지</title>

    <link rel="stylesheet" href="/css/mypage-style.css">
    <script src="/js/mypageScript.js" defer></script>
    <script src="/js/mypageRestaurantSectionScript.js" defer></script>

    <!-- 탭 관련 라이브러리 / 순서 지켜야함 -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/library/vendors.min.css">
    <link rel="stylesheet" href="/css/library/style.min.css">
    <link rel="stylesheet" href="/css/library/responsive.min.css">
    <link rel="stylesheet" href="/css/library/restaurant.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/mypage-style-restaurant.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

</head>
<body>

<header th:replace="~{navbar-new :: navbarFragment}"></header>

<div id="navBar">
    <div class="navbar-title selected">
        <p>내 정보</p>
    </div>
    <div class="navbar-title">
        <p>저장된 맛집</p>
    </div>
    <div class="navbar-title">
        <p>평가한 맛집</p>
    </div>
    <div class="navbar-title">
        <p>댓글단 맛집</p>
    </div>
    <div class="navbar-title">
        <p>작성한 글</p>
    </div>
    <div class="navbar-title">
        <p>댓글단 글</p>
    </div>
    <div class="navbar-title">
        <p>저장된 글</p>
    </div>
    <hr class="hr">
</div>

<div id="mainContents">

    <div id="Area1">
        <div id="area1Contents" class="gray-border-circular">

            <div id="area1Top">

                <div id="profileImgArea">
                    <p>프로필 이미지 : </p>
                    <div id="profileimg"></div>
                </div>

                <div id="nicknameArea">
                    <p>닉네임 : </p>
                    <input id=nickname type="text" th:placeholder="${user.userNickname}">
                </div>
                <div id="nicknameComment">닉네임은 30일에 한번만 변경 가능합니다.</div>

                <div id="saveBtnArea">
                    <button id="saveBtn">저장하기</button>
                </div>

            </div>

            <hr class="margin25px">

            <div id="countInfo">
                <p>저장된 맛집 수 : </p>
                <p>평가한 맛집 수 : </p>
                <p>댓글단 맛집 수 : </p>
                <p>커뮤니티 작성한 글 수 : </p>
                <p>커뮤니티 댓글단 글 수 : </p>
                <p>커뮤니티 저장된 글 수 : </p>
            </div>

            <hr class="margin25px">

            <div id="logoutArea">
                <button id="logoutBtn" onclick="logout()">로그아웃</button>
            </div>


        </div>


    </div>

    <div id="Area2" class="hidden">
        <div id="area2Contents" class="gray-border-circular">
            <div class="restaurant-favorite-container" th:each="restaurantFavorie: ${restaurantFavoriteList}" th:onclick="'window.location.href = \'' + @{/restaurants/{restaurantId}(restaurantId=${restaurantFavorie.getRestaurant().restaurantId})} + '\''">
                <!-- 메인 이미지 -->
                <img th:if="${restaurantFavorie.getRestaurant().getRestaurantImgUrl() != 'no_img'}" class="restaurant-img" th:src="${restaurantFavorie.getRestaurant().getRestaurantImgUrl()}">
                <img th:if="${restaurantFavorie.getRestaurant().getRestaurantImgUrl() == 'no_img'}" class="restaurant-img" src="/img/restaurant/no_img.png">
                <!-- 식당 이름, 타입 -->
                <div class="restaurant-info">
                    <span class="restaurant-name" th:text="${restaurantFavorie.getRestaurant().getRestaurantName()}"></span>
                    <span class="restaurant-type" th:text="${restaurantFavorie.getRestaurant().getRestaurantType()}"></span>
                </div>
                <!-- 식당 cuisine -->
                <img class="restaurant-cuisine-img" th:src="${restaurantFavorie.getRestaurant().getCuisineImgUrl(restaurantFavorie.getRestaurant().getRestaurantCuisine())}">
                <!-- 추가 날짜 -->
                <div class="favorite-add-date-div">
                    <span class="favorite-add-date-span" th:text="${restaurantFavorie.calculateTimeAgo()}"></span>
                </div>
            </div>
        </div>
    </div>

    <div id="Area3" class="hidden">
        <p class="pp">평가한 맛집 영역</p>
    </div>

    <div id="Area4" class="hidden">
        <p class="pp">댓글단 맛집 영역</p>
    </div>

    <div id="Area5" class="hidden">
        <p class="pp">작성한 커뮤니티 글 영역</p>

        <ul id="postul">
            <li th:each="post,iterStat: ${paging}" class="postli">
        <span class="recommend-tab">
            <img src="/img/community/up.png">
            <span th:text="${post.likeCount}"></span>
        </span>
                <div class="postBox">
                    <a class="postLink" th:text="${post.postTitle}"
                       th:href="@{/community/{postId}(postId=${post.postId})}"></a>
                    <div class="underLink">
                        <span id="category" th:text="${post.postCategory}"></span>

                        <!--     현재 postList의 인덱스에 해당하는 포스트의 생성시간으로부터의 경과 표시 (ex.1시간 전)               -->
                        <span id="createdAt" th:text="${post.calculateTimeAgo()}"> </span>
                        <span id="author" th:text="${post.user.userNickname}"></span>
                    </div>
                </div>

                <!-- 게시글에 사진이 있으면 썸네일 표시 -->
                <img class="postImage" th:if="${not #lists.isEmpty(post.postPhotoList)}"
                     th:src="${post.postPhotoList.get(0).photoImgUrl}"/>
            </li>
        </ul>

    </div>

    <div id="Area6" class="hidden">
        <p class="pp">댓글단 커뮤니티 글 영역</p>
    </div>

    <div id="Area7" class="hidden">
        <p class="pp">저장된 커뮤니티 글 영역</p>
    </div>

</div>

</body>

<footer th:replace="~{footer::footerFragment}"></footer>

</html>